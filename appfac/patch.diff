Index: org.wso2.carbon.appfactory.apimanager.integration/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.apimanager.integration/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.apimanager.integration/2.0.0/pom.xml	(working copy)
@@ -52,12 +52,12 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.application.mgt/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.application.mgt/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.application.mgt/2.0.0/pom.xml	(working copy)
@@ -52,17 +52,17 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.utilities</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
@@ -77,12 +77,12 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.build</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.listners</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.apache.axis2.wso2</groupId>
@@ -108,7 +108,7 @@
           <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.tenant.mgt</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
     </dependencies>
 
Index: org.wso2.carbon.appfactory.bam.integration/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.bam.integration/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.bam.integration/2.0.0/pom.xml	(working copy)
@@ -65,7 +65,7 @@
       <dependency>
           <groupId>org.wso2.carbon</groupId>
           <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-          <version>${project.version}</version>
+          <version>2.0.0</version>
       </dependency>
 
   </dependencies>
Index: org.wso2.carbon.appfactory.build/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.build/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.build/2.0.0/pom.xml	(working copy)
@@ -47,22 +47,22 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.deployers</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.repository.mgt.service</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>maven-invoker.wso2</groupId>
@@ -82,7 +82,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.buildserver.teanant.mgt.stub</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.core/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.core/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.core/2.0.0/pom.xml	(working copy)
@@ -54,12 +54,12 @@
     <dependency>
       <groupId>org.wso2.carbon</groupId>
       <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-      <version>${project.version}</version>
+      <version>2.0.0</version>
     </dependency>
     <dependency>
       <groupId>org.wso2.carbon</groupId>
       <artifactId>org.wso2.carbon.appfactory.bam.integration</artifactId>
-      <version>${project.version}</version>
+      <version>2.0.0</version>
     </dependency>
     <dependency>
       <groupId>org.wso2.carbon</groupId>
@@ -70,7 +70,7 @@
     <dependency>
       <groupId>org.wso2.carbon</groupId>
       <artifactId>org.wso2.carbon.appfactory.application.deployer.stub</artifactId>
-      <version>${project.version}</version>
+      <version>2.0.0</version>
     </dependency>
     <dependency>
       <groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.deployers/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.deployers/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.deployers/2.0.0/pom.xml	(working copy)
@@ -81,7 +81,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.apache.ws.commons.axiom.wso2</groupId>
@@ -96,7 +96,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>com.gitblit</groupId>
@@ -141,7 +141,7 @@
         <!-->dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.application.deployer.stub</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency-->
     </dependencies>
     <repositories>
Index: org.wso2.carbon.appfactory.eventing/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.eventing/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.eventing/2.0.0/pom.xml	(working copy)
@@ -114,7 +114,7 @@
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
 			<artifactId>org.wso2.carbon.appfactory.common</artifactId>
-			<version>${project.version}</version>
+			<version>2.0.0</version>
 		</dependency>
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
@@ -124,12 +124,12 @@
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
 			<artifactId>org.wso2.carbon.appfactory.core</artifactId>
-			<version>${project.version}</version>
+			<version>2.0.0</version>
 		</dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.utilities</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.ext/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.ext/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.ext/2.0.0/pom.xml	(working copy)
@@ -50,11 +50,7 @@
                     <instructions>
                         <Bundle-SymbolicName>${project.artifactId}</Bundle-SymbolicName>
                         <Bundle-Name>${project.artifactId}</Bundle-Name>
-                        <Internal-Package>
-                            org.wso2.carbon.appfactory.ext.internal,
-                        </Internal-Package>
                         <Export-Package>
-                            !org.wso2.carbon.appfactory.ext.internal,
                             org.wso2.carbon.appfactory.ext.*,
                         </Export-Package>
                         <Import-Package>
@@ -73,29 +69,9 @@
     <dependencies>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
-            <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>2.0.0</version>
+            <artifactId>org.wso2.carbon.url.mapper</artifactId>
+            <version>4.2.0</version>
         </dependency>
-        <dependency>
-            <groupId>org.wso2.carbon</groupId>
-            <artifactId>org.wso2.carbon.core</artifactId>
-            <version>${wso2carbon.version}</version>
-        </dependency>
-        <dependency>
-            <groupId>org.wso2.carbon</groupId>
-            <artifactId>org.wso2.carbon.utils</artifactId>
-            <version>${wso2carbon.version}</version>
-        </dependency>
-        <dependency>
-            <groupId>org.wso2.carbon</groupId>
-            <artifactId>org.wso2.carbon.ndatasource.core</artifactId>
-            <version>${wso2carbon.version}</version>
-        </dependency>
-        <dependency>
-            <groupId>org.wso2.carbon</groupId>
-            <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
-        </dependency>
     </dependencies>
     <repositories>
         <repository>
Index: org.wso2.carbon.appfactory.ext/2.0.0/src/main/java/org/wso2/carbon/appfactory/ext/listener/AppFactoryWebAppDeploymentListner.java
===================================================================
--- org.wso2.carbon.appfactory.ext/2.0.0/src/main/java/org/wso2/carbon/appfactory/ext/listener/AppFactoryWebAppDeploymentListner.java	(revision 0)
+++ org.wso2.carbon.appfactory.ext/2.0.0/src/main/java/org/wso2/carbon/appfactory/ext/listener/AppFactoryWebAppDeploymentListner.java	(working copy)
@@ -0,0 +1,33 @@
+/*
+ * Copyright WSO2, Inc. (http://wso2.com)
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.wso2.carbon.appfactory.ext.listener;
+
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+import org.wso2.carbon.url.mapper.deployment.WebAppDeploymentListner;
+import org.wso2.carbon.url.mapper.internal.exception.UrlMapperException;
+import org.wso2.carbon.url.mapper.internal.util.HostUtil;
+
+public class AppFactoryWebAppDeploymentListner extends WebAppDeploymentListner {
+
+	private static final Log log = LogFactory.getLog(AppFactoryWebAppDeploymentListner.class);
+
+	protected void deleteVirtualHost(String hostName)
+			throws UrlMapperException {
+		HostUtil.removeHost(hostName);
+		HostUtil.removeHostForCluster(hostName);
+	}
+}
Index: org.wso2.carbon.appfactory.hostobjects/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.hostobjects/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.hostobjects/2.0.0/pom.xml	(working copy)
@@ -60,7 +60,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-	    <version>${project.version}</version>
+	    <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.jaggeryjs</groupId>
Index: org.wso2.carbon.appfactory.issuetracking/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.issuetracking/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.issuetracking/2.0.0/pom.xml	(working copy)
@@ -52,7 +52,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
 
             <dependency>
@@ -74,12 +74,12 @@
             <dependency>
                 <groupId>org.wso2.carbon</groupId>
                 <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-                <version>${project.version}</version>
+                <version>2.0.0</version>
             </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.application.mgt</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.apache.cxf</groupId>
Index: org.wso2.carbon.appfactory.listners/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.listners/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.listners/2.0.0/pom.xml	(working copy)
@@ -43,12 +43,12 @@
        <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
          <dependency>
             <groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.login.ui/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.login.ui/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.login.ui/2.0.0/pom.xml	(working copy)
@@ -46,7 +46,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
     </dependencies>
     
Index: org.wso2.carbon.appfactory.repository/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.repository/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.repository/2.0.0/pom.xml	(working copy)
@@ -85,7 +85,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.apache.ws.commons.axiom.wso2</groupId>
@@ -116,12 +116,12 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.userstore</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
@@ -136,7 +136,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.utilities</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.s4.integration/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.s4.integration/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.s4.integration/2.0.0/pom.xml	(working copy)
@@ -39,12 +39,12 @@
        <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>com.gitblit</groupId>
Index: org.wso2.carbon.appfactory.stratos.listners/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.stratos.listners/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.stratos.listners/2.0.0/pom.xml	(working copy)
@@ -39,7 +39,7 @@
        <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
 
         <dependency>
Index: org.wso2.carbon.appfactory.tenant.mgt/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.tenant.mgt/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.tenant.mgt/2.0.0/pom.xml	(working copy)
@@ -43,7 +43,7 @@
        <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
         <dependency>
             <groupId>org.wso2.carbon</groupId>
@@ -68,7 +68,7 @@
         <dependency>
       <groupId>org.wso2.carbon</groupId>
       <artifactId>org.wso2.carbon.appfactory.core</artifactId>
-      <version>${project.version}</version>
+      <version>2.0.0</version>
     </dependency>
     </dependencies>
 
Index: org.wso2.carbon.appfactory.tenant.roles/1.1.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.tenant.roles/1.1.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.tenant.roles/1.1.0/pom.xml	(working copy)
@@ -22,13 +22,13 @@
     <parent>
         <groupId>org.wso2.carbon</groupId>
         <artifactId>appfactory</artifactId>
-        <version>1.1.0</version>
+        <version>2.0.0</version>
 	<relativePath>../../pom.xml</relativePath>
     </parent>
 
     <modelVersion>4.0.0</modelVersion>
     <artifactId>org.wso2.carbon.appfactory.tenant.roles</artifactId>
-    <version>1.1.0</version>
+    <version>2.0.0</version>
     <packaging>bundle</packaging>
     <name>WSO2 Tenant Default Role Creation</name>
     <description>BE component for WSO2 Carbon</description>
@@ -43,7 +43,7 @@
        <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
          <dependency>
             <groupId>org.wso2.carbon</groupId>
Index: org.wso2.carbon.appfactory.user.registration/1.1.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.user.registration/1.1.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.user.registration/1.1.0/pom.xml	(working copy)
@@ -22,13 +22,13 @@
     <parent>
         <groupId>org.wso2.carbon</groupId>
         <artifactId>appfactory</artifactId>
-        <version>1.1.0</version>
+        <version>2.0.0</version>
 	<relativePath>../../pom.xml</relativePath>
     </parent>
 
     <modelVersion>4.0.0</modelVersion>
     <artifactId>org.wso2.carbon.appfactory.user.registration</artifactId>
-    <version>1.1.0</version>
+    <version>2.0.0</version>
     <packaging>bundle</packaging>
     <name>WSO2 Appfactory - User Registration BE</name>
     <description>User Registration BE component for WSO2 Appfactory</description>
@@ -61,7 +61,7 @@
         <dependency>
             <groupId>org.wso2.carbon</groupId>
             <artifactId>org.wso2.carbon.appfactory.common</artifactId>
-            <version>${project.version}</version>
+            <version>2.0.0</version>
         </dependency>
     </dependencies>
 
Index: org.wso2.carbon.appfactory.utilities/2.0.0/pom.xml
===================================================================
--- org.wso2.carbon.appfactory.utilities/2.0.0/pom.xml	(revision 202313)
+++ org.wso2.carbon.appfactory.utilities/2.0.0/pom.xml	(working copy)
@@ -99,7 +99,7 @@
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
 			<artifactId>org.wso2.carbon.appfactory.common</artifactId>
-			<version>${project.version}</version>
+			<version>2.0.0</version>
 		</dependency>
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
@@ -109,7 +109,7 @@
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
 			<artifactId>org.wso2.carbon.appfactory.core</artifactId>
-			<version>${project.version}</version>
+			<version>2.0.0</version>
 		</dependency>
 		<dependency>
 			<groupId>org.wso2.carbon</groupId>
